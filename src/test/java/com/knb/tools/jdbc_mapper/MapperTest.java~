package com.knb.tools.jdbc_mapper;

import com.knb.tools.jdbc_mapper.model.Result;
import com.knb.tools.jdbc_mapper.util.UtilFunc;
import org.junit.jupiter.api.Test;

import java.util.Map;

import static org.junit.jupiter.api.Assertions.assertEquals;

class MapperTest {

    @Test
    void shouldMapValuesSuccessfully() {
        Map<String, Object> result = UtilFunc.getMapWithFieldId();
        Result mapResult = RowMapper.rowMapper(result, Result.class);

        //System.out.println(new Gson().toJson(mapResult));
        assertEquals(result.get("NULL_VALUE"), mapResult.getNullValue());
        assertEquals(result.get("STR_VALUE"), mapResult.getStrValue());

        assertEquals(result.get("BYTE_VALUE"), mapResult.getByteValue());
        assertEquals(result.get("SHORT_VALUE"), mapResult.getShortValue());
        assertEquals(result.get("INT_VALUE"), mapResult.getIntValue());
        assertEquals(result.get("LONG_VALUE"), mapResult.getLongValue());

        assertEquals(result.get("FLOAT_VALUE"), mapResult.getFloatValue());
        assertEquals(result.get("DOUBLE_VALUE"), mapResult.getDoubleValue());

        assertEquals(result.get("BOOL_VALUE"), mapResult.isBoolValue());
        assertEquals(result.get("CHAR_VALUE"), mapResult.getCharValue());
        assertEquals(result.get("DATE_VALUE"), mapResult.getDateValue());

        assertEquals("This is custom static mapper. Which is mapping value give from Argument that is  = " + result.get("CUSTOM_VALUE_STATIC"), mapResult.getCustomStaticValue());
        assertEquals("This is custom mapper. Which is mapping value give from Argument that is  = " + result.get("CUSTOM_VALUE"), mapResult.getCustomValue());
    }
}
